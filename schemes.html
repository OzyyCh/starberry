<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Схемы удобрения клубники</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="schemes.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Схемы удобрения клубники</h1>
            <p>Готовые схемы внесения удобрений для разных фаз роста клубники</p>
        </header>

        <nav class="site-nav">
            <a href="index.html" class="nav-link">Калькулятор</a>
            <a href="area-calculator.html" class="nav-link">Расчет площади</a>
            <a href="schemes.html" class="nav-link active">Схемы внесения</a>
            <a href="#" class="nav-link" id="fertilizerInfoLink">Справочник</a>
        </nav>

        <div class="lifecycle-container">
            <h2>Жизненный цикл клубники</h2>
            <div class="lifecycle-diagram">
                <canvas id="lifecycleChart"></canvas>
            </div>
            <p class="lifecycle-hint">Нажмите на сектор, чтобы увидеть схему удобрений для этой фазы</p>
        </div>

        <div class="scheme-tabs">
            <div class="tab-buttons" id="schemeTabButtons">
                <!-- Tabs will be generated by JS -->
            </div>
        </div>

        <div class="scheme-content" id="schemeContent">
            <!-- Scheme content will be generated by JS -->
            <div class="placeholder-message">
                <div class="placeholder-icon">
                    <img src="img/strawberry-icon.svg" alt="Клубника" width="64" height="64">
                </div>
                <p>Выберите фазу жизненного цикла клубники для просмотра рекомендаций по удобрениям</p>
            </div>
        </div>

        <div class="area-calculator">
            <h2>Калькулятор по площади</h2>
            <div class="area-input">
                <label for="areaSize">Площадь участка (гектар):</label>
                <input type="number" id="areaSize" min="0.01" step="0.01" value="1" class="number-input">
                <button id="calculateForArea" class="calculate-btn">Рассчитать</button>
            </div>
            <div class="area-results" id="areaResults">
                <!-- Results will be displayed here -->
            </div>
        </div>

        <!-- Модальное окно со справочником удобрений было перемещено ниже -->

        <div class="theme-toggle">
            <input type="checkbox" id="themeSwitch">
            <label for="themeSwitch" class="toggle-label">Тёмная тема</label>
        </div>

        <footer>
            <p>&copy; 2025 Калькулятор удобрений для клубники | Все права защищены</p>
        </footer>
    </div>

    <!-- Модальное окно со справочником удобрений -->
    <div id="fertilizerInfoModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Справочник удобрений для клубники</h2>
            <div class="fertilizer-list" id="fertilizerList">
                <!-- List will be generated by JS -->
            </div>
            <div class="modal-actions">
                <button id="addCustomFertilizerBtn" class="action-button">Добавить своё удобрение</button>
                <button id="manageFertilizersBtn" class="action-button secondary">Управление удобрениями</button>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно для добавления пользовательского удобрения -->
    <div id="customFertilizerModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="closeCustomFertModal">&times;</span>
            <h2>Добавление пользовательского удобрения</h2>
            <form id="customFertilizerForm" class="fertilizer-form">
                <div class="form-group">
                    <label for="fertName">Название удобрения:</label>
                    <input type="text" id="fertName" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="fertDescription">Описание:</label>
                    <textarea id="fertDescription" name="description" rows="3" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="fertStage">Стадия роста:</label>
                    <select id="fertStage" name="stage" required>
                        <!-- Опции будут добавлены через JavaScript -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="fertWeek">Неделя:</label>
                    <select id="fertWeek" name="week" required>
                        <!-- Опции будут добавлены через JavaScript -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="fertAmount">Количество:</label>
                    <input type="number" id="fertAmount" name="amount" step="0.01" min="0" required>
                </div>
                
                <div class="form-group">
                    <label for="fertUnit">Единица измерения:</label>
                    <select id="fertUnit" name="unit" required>
                        <option value="кг">кг</option>
                        <option value="г">г</option>
                        <option value="л">л</option>
                        <option value="мл">мл</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="fertNote">Примечание (необязательно):</label>
                    <textarea id="fertNote" name="note" rows="2"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="action-button">Добавить</button>
                    <button type="button" id="cancelCustomFert" class="action-button secondary">Отмена</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Модальное окно для управления пользовательскими удобрениями -->
    <div id="manageFertilizersModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="closeManageFertModal">&times;</span>
            <h2>Управление пользовательскими удобрениями</h2>
            <div id="customFertilizersList" class="custom-fertilizers-list">
                <!-- Список будет сгенерирован через JavaScript -->
            </div>
            <div class="modal-actions">
                <button id="backToFertInfoBtn" class="action-button secondary">Назад</button>
            </div>
        </div>
    </div>

    <script src="data/fertilizers.js"></script>
    <script src="standalone.js"></script>
    <script src="schemes.js"></script>
</body>
</html>